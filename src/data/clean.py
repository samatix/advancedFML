import numpy as np


def mad_outlier(y, thresh=3.):
    '''
        compute outliers based on mad
        # args
            y: assumed to be array with shape (N,1)
            thresh: float()
        # returns
            array index of outliers
    '''
    y = np.expand_dims(y, axis=1)
    median = np.median(y)
    diff = np.sum((y - median)**2, axis=-1)
    diff = np.sqrt(diff)
    med_abs_deviation = np.median(diff)

    modified_z_score = 0.6745 * diff / med_abs_deviation

    return modified_z_score > thresh
